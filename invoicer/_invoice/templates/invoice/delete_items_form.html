{% set current_page = 'invoices' %}
{% from "_modals.html" import render_delete_modal %}
{% extends "base.html" %}

{% block body %}
<form id="delete_items_form" class="w3-container w3-col m5" action="{{url_for('invoice_page.delete_items', invoice_number=invoice.number)}}" method="POST">
    {{ form.hidden_tag() }}
    {% for item in items -%}
      <p>
        <input type="checkbox" class="w3-check" name="item_{{item.id}}" value="{{item.id}}">
        <label>{{item.date.format('DD-MMM-YYYY').upper()}}: {{item.description}} ({{item.quantity}} x {{item.unit_price|currency}})</label>
      </p>

    {% endfor %}
  <input type="hidden" value="{{invoice_id}}" name='invoice.id'>
  <input type="hidden" id="delete_modal_target" name="delete_modal_target" value="">

  <p>
      <span onclick="show_delete_modal();" class="w3-btn w3-red">Delete Items</span>
  <p>
</form>

{{ render_delete_modal() }}
{% endblock %}

{% block extrascripts %}
<script src="{{ url_for('static', filename='js/delete_modal.js') }}"></script>
{% endblock %}
