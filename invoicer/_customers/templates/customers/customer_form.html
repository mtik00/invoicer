{% set current_page = 'customers' %}
{% extends "base.html" %}
{% block body %}
{% from "_formhelpers.html" import render_field %}
{% if form.errors %}
{% for error in form.errors.values() %}
      <li>{{ error }}</li>
{% endfor %}
{% endif %}

{% if customer %}
<form class="w3-container w3-col m5" action="{{url_for('customers_page.update', customer_id=customer.id)}}" method="POST">
{% else %}
<form class="w3-container w3-col m5" action="{{url_for('customers_page.create')}}" method="POST">
{% endif %}
    {{ form.hidden_tag() }}
    {{ render_field(form.name1) }}
    {{ render_field(form.name2) }}
    {{ render_field(form.addrline1) }}
    {{ render_field(form.addrline2) }}
    {{ render_field(form.city) }}
    {{ render_field(form.state) }}
    {{ render_field(form.zip) }}
    {{ render_field(form.email) }}
    {{ render_field(form.terms) }}
    {% if customer and customer.invoices %}
    <label class="w3-text-blue" for="number">Number<br><b>NOTE: You cannot change the customer number once an invoice has been submitted</b></label>
    <input class="w3-input w3-border" id="number" name="number" type="text" value="{{customer.number}}" disabled>
    {% else %}{{ render_field(form.number) }}{% endif %}
    {{ render_field(form.w3_theme) }}
  <p>
      <input class="w3-btn w3-theme-action" type=submit value="{% if customer %}Update{%else%}Add{%endif%}">
  </p>
</form>
{% endblock %}